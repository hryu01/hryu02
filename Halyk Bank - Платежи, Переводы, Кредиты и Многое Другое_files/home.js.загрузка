import{d as g,e as o,f as n,g as f,i as m,j as l}from"./chunks/chunk-UKDJDJBP.js";import{a as r,b as s,c}from"./chunks/chunk-O6VZUO3L.js";import"./chunks/chunk-ERCXEA22.js";import"./chunks/chunk-U2EZH7O5.js";import{c as d}from"./chunks/chunk-B24NWI4H.js";var p=d(g(),1),h={name:"exchangeRatesMini",data(a={}){return{oLeft:!1,oRight:!1,...m(),config:a,data:null,ratesList:[],wInit:!1,typeSelected:"privatePersons",date:null,init(){this.getData(),setTimeout(()=>{this.wInit=!!(this.$root.querySelector("._js-widget-from-currency")&&this.$root.querySelector("._js-widget-to-currency")),this.wInit&&this.widgetinit()},0)},getData(){fetch(this.config.url).then(t=>t.json()).then(t=>{if(t.result){let e=(typeof t=="string"?JSON.parse(t):t).data.currencyHistory[0];this.date=(0,p.default)(e.date).format("DD.MM.YYYY"),this.data=e.branches["050201"],this.filterRates(),this.wInit&&this.widgetUpdateRatesData(JSON.parse(JSON.stringify(this.data)))}else alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0434\u0430\u043D\u043D\u044B\u0445")}).catch(t=>{console.log(t)})},filterRates(){let t=[];Object.keys(this.data).forEach(i=>{let e=i.match(/^[^/]+/g)[0];this.config.filters.includes(e)&&t.push({name:e,rates:this.data[i]})}),this.ratesList=this.config.filters.map(i=>t.find(e=>e.name==i))}}}};var u=[l,f,h,c,o,n];u.forEach(a=>{r.data(a.name,a.data)});window.Alpine=r;r.plugin(s);r.start();
